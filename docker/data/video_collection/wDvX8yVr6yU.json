{
    "id": "wDvX8yVr6yU",
    "title": "CML (VIRL 2) terminal server: SSH, multiple tabs, scripts and more",
    "channel": "David Bombal",
    "channel_id": "UCP7WmQ_U4GB3K51Od9QvM0w",
    "subscriber_count": 2650000,
    "upload_date": "2020-04-04T15:01:46Z",
    "video_url": "https://www.youtube.com/watch?v=wDvX8yVr6yU",
    "category": "Science & Technology",
    "tags": [
        "virl",
        "cml",
        "putty",
        "ssh",
        "cisco modeling labs",
        "virl 2",
        "secure crt",
        "royal tsx",
        "cisco virl",
        "cisco virl 2",
        "ccna",
        "ccnp",
        "ccie",
        "virl ios",
        "virl gns3",
        "eve-ng",
        "eve-ng virl",
        "ios download",
        "cisco ios download",
        "cisco virl images",
        "virl cisco",
        "virl images",
        "download virl",
        "gns3 virl ios",
        "cisco ios",
        "gns3 virl images",
        "ccna training",
        "free ccna labs",
        "gns3",
        "virl gns3 ios",
        "gns3 vs virl",
        "ios virl",
        "cisco virl ios",
        "download cisco virl",
        "cisco ccna",
        "cisco",
        "virl install",
        "virl2",
        "cml-p",
        "ios",
        "gns3 ios",
        "putty tabs"
    ],
    "views": 13413,
    "likes": 391,
    "comments_count": 78,
    "description": "CML 2 (VIRL 2) has a built-in multiplexing terminal server that allows you to SSH directly to devices running in VIRL. You can either SSH to the terminal server and then use commands to access devices, or you can SSH directly to the individual devices. The advantage of this is that you can use applications such SecureCRT, Royal TSX or SolarPutty that support multiple tabs to easily access individual devices running with in VIRL.  This is Part 4 of my VIRL series showing you how to download, install and configure Cisco VIRL 2. The new version of Cisco VIRL allows you to create virtual Cisco networks using just your Web browser. You don't have to use a thick client or any other software - everything is included and everything is easy to use.  The new version of Cisco VIRL 2 is one of your best options for CCNA,  CCNP and CCIE Labs. VIRL 2 has multiple advantages over other platforms such as GNS3 or EVE-NG. VIRL 2 supports an HTML5 web client and contains all the Cisco IOS images. You don't have to use a thick client like you do with GNS3. You don't have to follow a convoluted process to get Cisco images working like you do with EVE-NG.   You don't have to try to find images as they are all included as part of your VIRL subscription and by simply mapping an ISO drive to your virtual machine you can immediately start using all Cisco IOS images in your topologies. Both EVE-NG and GNS3 require that you provide your own IOS images - typically they recommend that you buy a VIRL subscription anyway. That means that you are already paying for VIRL.   VIRL2 is also an official Cisco product - that means that you don't have to worry about any gray legal issues with regards to running Cisco IOS images on your laptop. This is an official Cisco product that is supported by Cisco. By paying your yearly subscription fee of $199, you can use Cisco IOS images such as IOSv, IOSvL2, ASAv, NX-OSv and others without any worries. VIRL 2 has everything you need to get started.  Disadvantages include the requirement to license your installation. That however has been simplified dramatically from previous releases. There is also a 20 node limited in topologies. However, for most of us that is fine for a lot of labs.  Is VIRL better than GNS3 or EVE-NG? In many ways it is. But, all platforms have advantages and disadvantages. If you are studying for your ccie, you many prefer gns3 or eve-ng as they don't limit the number of devices in a topology like virl does. VIRL-PE limits you to 20 devices - so your topologies cannot be massive like they could with gns3 or eve ng. However, if you are studying for your ccna or ccnp, VIRL may be more than enough.  Cisco have made massive changes to their certification programs and it is fantastic to see the new version of VIRL in action.   Menu: Overview: 0:00 VIRL setup: 1:05 SSH to VIRL Console Server: 2:14 Console Server commands: 2:45 Putty connections: 6:14 Script logins: 9:20 Using multiple tabs: 12:30  Videos mentioned: VIR2 Part 1:   VIRL VIRL 2 CML Cisco Modeling Labs EVE-NG GNS3 Packet Tracer CCNA Cisco Devnet Associate  CCNP Enterprise CCNP Security CCNP Data Center CCNP Service Provider CCNP Collaboration Cisco Certified Devnet Professional Cisco Certified Network Professional  LPIC 1  LPIC 2 Linux Professional Institute LX0-103 LX0-104  XK0-004   Please note that links listed may be affiliate links and provide me with a small percentage/kickback should you use them to purchase any of the items listed or recommended. Thank you for supporting me and this channel!   #virl #ccna #cml",
    "description_links": [
        "https://youtu.be/sW5-jHLygFg"
    ],
    "transcript": "- Now I've received multiple questions on this video where I showed you how to install Cisco VIRL on a Windows computer, about multi-tabs, questions like how do I run multiple tabs. \"David, in your demonstration, you're using a web browser, \"and it looks quite difficult \"to jump from one console to another. \"How do I set up multiple tabs using something like \"SecureCRT or Solar-PuTTY or some kind of other application \"where I have multiple tabs, \"and I can simply jump from one tab to another?\" Okay, so I'm gonna show you how to do that using both a Mac, as well as a Windows computer. I'm also gonna show you how you can automate some of the logins so that you can access devices directly within Cisco VIRL remotely from your application. I'm gonna show you how to do that on a Mac, and then I'm gonna show you how to do that on a Windows computer. Okay, so let's get started. (energetic electronic music) Now let's go - In this example, I'm running Cisco VIRL within VMware Fusion on my Mac. So it's running locally on this Mac. I can access the consoles of various devices by opening up a web browser to the VIRL server. So here's my router. Here's my ASA. Here's another router in my topology running within VIRL within VMware Fusion on my Mac. Now one of the problems is to access the console of another device, I have to click on the device like this in my topology. I don't have multiple tabs. Now I spoke to the developers of Cisco VIRL, and they say perhaps in the next release they'll allow you to have multiple tabs within the web browser, but that doesn't currently exist. So you can't have multiple tabs within the web browser, but I can do that using a remote application. So what I could do is open up a terminal on my Mac. I should be able to ping the VIRL server from my terminal, which I can, but what I can do now is SSH to that of VIRL server. So SSH admin IP address of the VIRL server, and I can log in with my password, and notice a console server is now displayed. I'm told that tab completion works. I can list available nodes and node labels or IDs using the list command. It's also possible to open a specific lab using the open command. So help shows me various commands that I can use. So as an example, labs shows me the available labs in my topology. I only see this ASA lab at the moment. Now the reason for that is I haven't started this additional lab. I've got two labs configured. ASAlab1 and a network automation lab, but I haven't started any devices in my network automation lab. So I could start the devices individually like that, or I could simply start the entire topology by clicking on simulate, start. Okay, so the devices are booting. Back in my terminal, the labs now shows me that I've got two labs available. I'm gonna stop this lab because it's not necessary for my demonstration. So back in labs, this will eventually disappear once that lab stops, but I'm gonna concentrate on the ASA lab. So let's clear the screen. Help shows me that I can use labs to see available labs. The list allows me to see all available consoles. So list shows me that I've got two devices currently booted in the network automation lab, and I've got three devices available in the ASA lab. Now one of the reasons I wanted to stop that additional lab is that I don't if you can hear it on the video, but my CPU is spiking on my Mac, and the fans are going crazy at the moment. Those devices have now stopped. So when I type list, I only see my ASA devices, and labs shows me that I only have this ASA lab currently running. So hopefully the fans don't make too much noise, but once again, the list shows me the ASA labs available, and what I can do now is type open /ef tab /n0 is my first device /0 is the line available on that ASA. Now I do have two lines available on the routers, but this is the actual ASA in my topology. If I press Enter, notice I'm on the ASA. So I can connect directly to the console of a device by SSH into the VIRL server, using the bolting terminal server and accessing one of the devices. Okay, so my laptop has settled down now. I've once again got access to the console of a Cisco router and an AAS and another Cisco router through the console. There's an issue I found with VMware Fusion on a Mac where the CPU spikes. 100% CPU makes the fans go crazy. It's often a problem when I record using a Mac and VMware Fusion. If you know of a solution, let me know. I've tried various things, but VMware Fusion often causes problems running GNS3, EVE-NG, and in this case Cisco VIRL. Okay, so I've shown you how to connect from the terminal on my Mac to the consoles of these network devices. Now let's do it using the Windows computer. So just to make the recordings easier, I'm controlling that windows computer using VNC, but I'm gonna run PuTTY on that Windows computer, and I'm recording on that Windows computer so that you can see how it works as if I'm working on that Windows computer. So I'm gonna SSH to the VIRL server which back on my Mac is using IP address 10.0.0.177. So on the Windows computer, I'm going to open up a SSH session to that IP address, and as you can see, I'm asked to log in. I'm gonna log in with my admin username, password Cisco123. Using list, I can see a list of consoles. So I can use open /ef tab n0/0, and what you'll notice is, I'll just maximize that, and as you can see, I'm now connected to the ASA, and I can log in, but, and I had to reboot my computer, so let me show you this back on the Mac once again. I can SSH to the same terminal server and access of the device at the same time from my Mac, as well as the Windows computer. So I can access the console on the Mac and of the Windows computer at the same time. I'll try and show you this on my Mac so that you can see both devices at the same time. So here's the console of the Mac. There's the console of the Windows device. Notice every command that I type is replicated on both screens. So I could type show run on the Mac, and that's replicated on the Windows computer. So basically the sessions are replicated, not only through the terminals or the consoles, but also through the web browser. So in the web browser, if I press Enter, notice I'm seeing the same information through the web console, as well as the terminal on my Mac, as well as the PuTTY session on the Windows computer. The console is basically being mirrored across multiple devices. So I can access the console through that device or through a terminal SSH session on my Mac or through the web browser on my Mac. It's replicated from one device to the other. Now that's all very good and well, but you may wanna try and do something a little bit more clever. So back on the Windows computer, if I open a new session, I'm gonna SSH back to the server, but what I'm going to do is under SSH run a remote command. So the command that I wanna run is open. We want to open our lab. We wanna open the first console of the first device which is once again our ASA. So once again, if I just SSH directly to the VIRL server and use a list, I can see this lab, this node ID, and this line, and I would typically type open that lab, that node ID, and that line. So all I'm doing is taking this command and running that within PuTTY. So under session, I'm gonna SSH to the IP address of the VIRL server, port 22, but on the SSH session, I'm gonna run this remote command, and when I click open now, I should automatically, once I log in, have access to the ASA's console, and there you go. You can see I'm running multiple PuTTY sessions on the ASA. The difference is in the first session I manually typed in the command, but here I kind of scripted it so that as soon as the SSH session is made, it opens the console of the ASA. Now I could do something similar on a Mac or a Linux device by using SSH -t, or dash T, username at IP address, space, and then put the command within single inverted commas like that. So when I press Enter now and enter my password, notice I'm directly on the console of that ASA. So I don't wanna confuse you. Basically, you can SSH directly to the server and then use manual commands to open up a session to the ASA, or you can just automate it. So within PuTTY, or within the terminal of a Linux device or a Mac, you can automatically open up a session to a console, and if you wanted to open up multiple sessions, you could simply script this to open up multiple sessions to multiple devices. Now you may be thinking, \"But, David, \"you haven't showed me how to create multiple tabs.\" So what you could do is open up multiple PuTTY sessions and connect directly to the various devices in your topology or you could open up multiple terminals on a Mac or a Linux PC to access multiple devices at the same time, but you probably wanna use SecureCRT or something like this, Royal TSX, which allows you to combine multiple iTerm connections together, in other words, end up with multiple tabs. So what I've done here is I've created a session in Royal TSX, SecureCRT, Solar-PuTTY. Other applications will allow you to do something similar. I've given it a name. I'm gonna use SSH, port 22, to SSH to the server. That's all I'm doing, SSH into the server, and when I double click on that, notice I'm automatically logged in. This application allows you to store credentials locally in an encrypted file. Other applications allow you to do something similar. So notice I can use lists now to see the various nodes in my topology, and then I can say open first node, first line, and I can access my ASA, but rather than doing it that way, what I've done is I've scripted the login. So under this is ASA connection, that's just a display name, ASA. I'm using SSH, port 22, to this server, but under advanced, SSH, I'm going to run this command. That's the same command that I showed you with PuTTY. So I'm gonna automatically run the command once I've logged in, and I've got my login credentials stored here. So now double click on ASA, press Enter. I've connected to my ASA, and notice once again, I've got an ASA tab here, and I've got an ASA tab here, but I could do something similar for the router. So what I did for the router is open up an SSH session to the VIRL server, and under advanced, SSH, notice I'm connecting to n1/0 rather than n0/0, and the reason for that, once again, is the list command shows me the lab and the node ID that I wanna access. Node ID one is my first router. So if I double click on that, press Enter a few times, notice I'm connected to router one. Could do something similar to router two. All I'm doing here is zooming in so I can see that more clearly. So enable. Here's router one. Here's the ASA. I've got the various tabs in my application at the top here, and I could open up as many connections as I want to. So you could do this using Royalty TSX, as an example. You could use SecureCRT. You could use Solar-PuTTY on a Windows computer if you wanted to. All you need to do is you need to create the session, and then script it. So back on the Windows computer, I'll start another PuTTY session. All you need to do is specify the IP address, the port number, and then remember under SSH, specify the remote command that you're going to run, and the remote command would be something like this. Open, a lab number, device number and port number. You could once again do something very similar on a Mac or a Linux computer by using an SSH command like this. So the VIRL team have made this very simple. You can access devices using the web UI. You can access devices using PuTTY on a Windows computer. You could access devices using a terminal on a Mac or a Linux computer. They are running a terminal server on the VIRL server that allows you to have multiple sessions to the console of a single device. Typically, a console only allows one connection at a time, and the information is replicated across all console connections. Now EVE-NG, GNS3 do something similar, but I wanted to show you how you can have multiple sessions and multiple tabs to a device in your network. In Royal TSX, as an example, I can simply duplicate the session, double-click on it, and now I've got two tabs open to router two. There's router two, here's router two. If I type something like show IP interface brief, press Enter, and that is replicated on the other console connection via the terminal, but it's also replicated through the web UI. So I see that output on the web UI. I'll type show version through the web UI, and that is once again replicated through both these console connections running within Royalty TSX. It's also gonna be replicated on my PuTTY sessions. Okay, now this is using SSH, port 22. You may, however, only want to allow port 443 to your VIRL server. So only allow SSL or TLS to the VIRL server. VIRL have an application that you can download and run locally on your computer that acts as a proxy where you can Telnet to devices locally, and then it basically tunnels that to the VIRL server across port 443, and I'll show you how to do that in a separate video. So the Local Breakout is an application that allows you to only open port 443 on your VIRL server, and you can still access the consoles of devices remotely, but I'll show you that in a separate video. Okay, so I hope you've enjoyed this video. It's been quite long. I had a lot of issues when I created this video with noise on my laptop's, the fans were going crazy. Other technical issues, but I'm hoping that this made sense. If you enjoyed this video, please consider subscribing to my YouTube channel. Please, like this video, and please click on the bell to get notifications. I'm David Bombal, and I wanna wish you all the very best. (energetic electronic music) Now let's go",
    "transcript_keywords": [
        "Windows computer",
        "VIRL server",
        "Mac",
        "SSH",
        "ASA",
        "VIRL",
        "Cisco VIRL",
        "Windows",
        "SSH session",
        "console",
        "open",
        "devices",
        "ASA lab",
        "server",
        "computer",
        "multiple",
        "lab",
        "install Cisco VIRL",
        "device",
        "session"
    ],
    "transcript_entity_values": [
        "first",
        "Royal TSX",
        "three",
        "Solar-PuTTY",
        "Linux",
        "VNC",
        "TLS",
        "SSH",
        "Mac",
        "VMware Fusion",
        "VIRL",
        "Cisco VIRL",
        "Cisco",
        "443",
        "GNS3",
        "two",
        "AAS",
        "SSL",
        "CPU",
        "YouTube",
        "David",
        "100%",
        "IP",
        "SecureCRT",
        "Mac",
        "one",
        "ASA",
        "Linux",
        "TSX",
        "VMware Fusion",
        "iTerm",
        "GNS3",
        "Cisco",
        "Windows",
        "10.0.0.177",
        "David Bombal",
        "EVE-NG",
        "UI",
        "22"
    ],
    "transcript_entity_types": [
        "ORDINAL",
        "ORG",
        "CARDINAL",
        "PRODUCT",
        "ORG",
        "ORG",
        "ORG",
        "ORG",
        "ORG",
        "PRODUCT",
        "ORG",
        "ORG",
        "ORG",
        "CARDINAL",
        "ORG",
        "CARDINAL",
        "ORG",
        "ORG",
        "ORG",
        "ORG",
        "PERSON",
        "PERCENT",
        "ORG",
        "ORG",
        "PERSON",
        "CARDINAL",
        "ORG",
        "GPE",
        "ORG",
        "ORG",
        "PRODUCT",
        "PRODUCT",
        "GPE",
        "PRODUCT",
        "CARDINAL",
        "PERSON",
        "ORG",
        "ORG",
        "CARDINAL"
    ]
}