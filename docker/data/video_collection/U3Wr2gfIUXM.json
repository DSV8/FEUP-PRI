{
    "id": "U3Wr2gfIUXM",
    "title": "Kali Linux: Hacking Networks Part 2",
    "channel": "David Bombal",
    "channel_id": "UCP7WmQ_U4GB3K51Od9QvM0w",
    "subscriber_count": 2650000,
    "upload_date": "2019-11-04T17:37:37Z",
    "video_url": "https://www.youtube.com/watch?v=U3Wr2gfIUXM",
    "category": "Science & Technology",
    "tags": [
        "kali linux",
        "kali linux tutorial",
        "kali linux install",
        "kali linux hacking tutorials playlist",
        "kali linux basics",
        "kali linux tutorial for beginners",
        "kali linux 2019",
        "kali linux 2020",
        "kali linux hacking tutorials",
        "ethical hacking",
        "ethical hacking tutorial",
        "ethical hacking free course",
        "ethical hacking course",
        "how to become a hacker",
        "ccna",
        "ccna 200-301",
        "linux tutorial",
        "ceh",
        "oscp",
        "hacker",
        "hacking",
        "cisco training",
        "ine",
        "cbt nuggets",
        "ccna study",
        "kali",
        "yersinia",
        "whitehat",
        "whitehat hacking",
        "linux"
    ],
    "views": 156006,
    "likes": 3318,
    "comments_count": 228,
    "description": "It's so easy to hack badly configured networks using Kali Linux! See how easy it is to take out networks using Kali Linux and protocols like Dynamic Trunking Protocol (DTP) and VLAN Trunking Protocol (VTP); and also capture network traffic using Wireshark. Make sure you have configured your networks securely! Otherwise, look at how simple it is to hack networks using Kali Linux running on a Windows 10 computer. Applications like Yersinia make hacking with Kali Linux super easy! It's important that you as a network professional know how to protect networks from hackers. Even the new Cisco CCNA 200-301 exam covers some of these hacking topics. Don't just learn the theory of hacking, learn how to hack practically.   In this Ethical Hacking with Kali Linux playlist, I'm going to show you step by step how to hack and protect networks. This is white-hat hacking, not black-hat -  in other words this is about teaching you Ethical hacking to help you better secure your networks!  In a previous video I showed you how to get started with Yersinia and hack CDP and Spanning Tree Protocol (STP). In this video I show you how to leverage DTP and VTP to hack networks with kali linux. Make sure you learn how network protocols work and understand their weaknesses. Just because a Cisco switch or router supports a protocol, doesn't mean you should enable it and use it. In many cases you need to either optimize the network protocol or disable it. Otherwise, hackers using Kali Linux will be able to hack your network and break things.  Menu: Introduction 0:00 DTP hacks: 2:15 Wireshark: 5:18 VTP attacks: 8:00 Remotely Delete a VLAN: 10:54 Delete all VLANS! 13:33   ====================== Previous Videos: ====================== Kali Linux installation video:  Kali Linux: Hacking Networks Part 1:   ====================== CCNA content: ====================== Free CCNA content:   CCNA course:   kali linux Hacking Ethical hacking  EVE-NG GNS3 VIRL Packet Tracer 10x Engineer CCNA Cisco Devnet Associate  CCNP Enterprise CCNP Security CCNP Data Center CCNP Service Provider CCNP Collaboration Cisco Certified Devnet Professional Cisco Certified Network Professional  LPIC 1  LPIC 2 Linux Professional Institute LX0-103 LX0-104  XK0-004   Please note that links listed may be affiliate links and provide me with a small percentage/kickback should you use them to purchase any of the items listed or recommended. Thank you for supporting me and this channel!   ======================== Switch configuration: ========================  c2960-CG# sh run ! version 15.0 no service pad service timestamps debug datetime msec service timestamps log datetime msec no service password-encryption ! hostname c2960-CG ! boot-start-marker boot-end-marker ! enable password cisco ! no aaa new-model ! ip dhcp pool vlan1  network 10.1.1.0 255.255.255.0  default-router 10.1.1.254  dns-server 10.1.1.254 ! ip dhcp pool vlan2  network 10.1.2.0 255.255.255.0  default-router 10.1.2.254  dns-server 10.1.2.254 ! ! ! ! ! ! spanning-tree mode pvst spanning-tree extend system-id ! ! ! ! ! ! ! ! ! vlan internal allocation policy ascending ! ! ! ! ! ! ! ! ! ! ! interface GigabitEthernet0/1 ! interface GigabitEthernet0/2  switchport access vlan 2  switchport mode access ! interface GigabitEthernet0/3  switchport access vlan 2  switchport mode access ! interface GigabitEthernet0/4 ! interface GigabitEthernet0/5 ! interface GigabitEthernet0/6 ! interface GigabitEthernet0/7 ! interface GigabitEthernet0/8 ! interface GigabitEthernet0/9 ! interface GigabitEthernet0/10 ! interface Vlan1  ip address 10.1.1.254 255.255.255.0  no ip route-cache ! interface Vlan2  ip address 10.1.2.254 255.255.255.0  no ip route-cache ! ip http server ip http authentication local ip http secure-server ! ! ! ! line con 0 line vty 0 4  password cisco  login  transport input all line vty 5 15  login ! end   ========================  #kalilinux #ethicalhacking #hacker",
    "description_links": [
        "https://youtu.be/AnwgxRtWXLI",
        "https://youtu.be/K1bMSPje6pw",
        "https://www.youtube.com/playlist?list=PLhfrWIlLOoKM3niunUBTLjOR4gMt_uR_a",
        "http://bit.ly/2PmTVPD"
    ],
    "transcript": "- This is one of multiple videos where I'm showing you how to hack networks using Kali Linux. In previous videos, I showed you how to download and install Kali Linux on a Windows 10 computer using a prebuilt image that you can download from kali.org. I also showed you how you can hack Cisco networks when a switch is badly or poorly configured. It's important that you configure networks properly, otherwise it's very easy to hack networks, such as Cisco networks, using Kali Linux. In this video I'm gonna show you how easy it is to break networks that are badly configured. We're gonna use two protocols. The first one: Dynamic Trunking Protocol or DTP; and the second one: VTP or VLAN Trunking Protocol. We're basically going to do things to the network by leveraging those two protocols. I'm gonna show you, as an example, how you can take devices off the network by sending VTP packets to a Cisco switch using Kali Linux. So we're basically going to delete VLANs from a switch by simply injecting VTP packets into the network. Kali Linux, in our example, will be configured on one VLAN, we'll have hosts on a separate VLAN, but that's not gonna stop us, we're going to use DTP to form a trunk with a Cisco switch, have visibility of a separate VLAN, so Kali Linux will be in one VLAN, let's say VLAN 1, our hosts will be in a separate VLAN, let's say VLAN 2, we'll send DTP packets to the switch so that we have visibility of those hosts from our Kali Linux host, and then what we'll do is use VTP to delete VLANs automatically on a Cisco switch, basically removing devices in one VLAN from the network. I've been in your waters I thought you were my love I know one thing for sure - Now before we get started, please consider subscribing to my YouTube channel, please like this video if you enjoy it, and please click on the bell to get notifications when I post a new video. All right, without further ado, let me show you how to hack Cisco networks. At the moment, on the switch, show interface trunk shows us that there are no trunk ports on the switch. Show interface gigabit zero one, switchport shows us that this port, there's the command again, this port is configured to use DTP but at the moment, it's a static access port, administrative mode is dynamic auto. Bad idea to use DTP. Show run interface gigabit zero one shows us that this port is configured with a default configuration. That's a bad idea, because what we can do is launch a DTP attack. And enable trunking by simply selecting that option and clicking okay. Yesinia sees that there's a switch using access auto, which is what we saw over here. Dynamic auto. But in the output of the switch, we can see that the interface went down and came up again. Gigabit zero one went down, now gigabit zero one has come up. And if we use the same command again, show interface trunk, notice trunking is now enabled on gigabit zero one. So gigabit zero one is using 802.1q. The VLAN 1 interface on the switch, or the SVI or switched virtual interface came up, because we have an interface in that VLAN, but again, show interface trunk native VLAN is VLAN 1 on this port, but trunking is now used using 802.1q, mode is auto, VLANS 1 and 2 are allowed across that trunk. That means that Kali Linux will have visibility of the PC in VLAN 2. Show run, interface gigabit zero one. No configuration on that port, but the MacBook is in VLAN 2, notice it's been configured in VLAN 2, and if we type show interface gigabit zero two switchport, we can see through this command that that port gigabit zero two is configured in VLAN 2. It's currently acting as an access port. Again, Kali Linux, which is supposedly in VLAN 1, will be able to see traffic sent by devices in VLAN 2. Before we look at that, let's have a look at Spanning Tree again. So show Spanning Tree. For VLAN 1, the switch is no longer the root. It has a cost of four to get to the root switch. Gigabit zero one is its root port to get to the root switch. For VLAN 2, it's the root. Notice gigabit zero one and zero two are now designated ports. Previously we only saw gigabit zero two in the output there. So back in Kali Linux, let's start WireShark. Select Capture, Start. You can see that we're capturing a bunch of traffic on the network, including Spanning Tree. Bunch of other traffic seen here. But let's filter for DHCP. On the MacBook, currently has this IP address. I'm going to disable the ethernet interface on the MacBook. I'll enable it again. So that it sends a DHCP request. Notice Kali Linux is seeing the DHCP information. So it's seeing the DHCP discover message, seeing the DHCP offer from the switch to that host, it sees the DHCP request and sees the DHCP acknowledgment. This is on VLAN 2. Notice the IP address, 10.1.2.254. Giving this IP address to the MacBook. So the MacBook has been given IP address 10.1.2.2, and Kali Linux, which is supposedly in a different VLAN, was able to see that. On the MacBook, if I ping a nonexistent IP address, so ping 10.1.2.123, I'll press enter on the MacBook, and filter for arp. Notice we can see arp resolution protocol. Sender IP address is this, looking for the MAC address of 10.1.2.123. Basically, the Kali Linux host, which is supposedly in VLAN 1, can now see the traffic in VLAN 2. Now that's a broadcast. If the host sent multicast traffic to, let's say, 239.1.2.3, the Kali Linux host would see that ICMP traffic. So here we go. We can see IP address 10.1.2.2 pinging 239.1.2.3. This is multicast traffic. I'll stop that ping. Now this is not doing much; I'll show you in a subsequent video how I can, for instance, sniff OSPF passwords. OSPF, which is a routing protocol, sends updates into the network using multicast, and Kali Linux will be able to sniff those routing updates and capture passwords, as an example, on the OSPF updates. So what we've seen thus far is a CDP attack; I've shown you a DTP attack; and I've shown you Spanning Tree. Let's have a look at VTP. VTP is a really bad protocol. Generally you want to turn it off. It's actually been removed from the Cisco CCNA exam. So in the next release of CCNA, it won't be there. If I type show VTP status, the switch is in this domain, called home. It's currently acting as a server, configuration revision number is one. It has six VLANs configured. Show VLAN brief as an example. Shows me that VLAN 1 and VLAN 2 exist on the switch. If I create another VLAN, let's say VLAN 3, show VLAN brief, VLAN 3 has been created, show VTP status. Configuration revision number is now 2. So in Kali Linux, let's send a VTP packet. You can see it's learnt about the home VTP domain. So I'm gonna launch an attack and let's delete a VLAN. Now before I do that, I'm gonna plug in my MacBook, so this MacBook is now plugged into the network on port three. So on the switch, we can see that gigabit zero three came up, so show IP interface brief. Gigabit zero one, two, and three are now up. I'll configure gigabit zero three as an access port and put it into VLAN 2. So show run. These two ports are now in the same VLAN. On this MacBook, I'm going to enable DHCP. It should get an IP address in VLAN 2. And there you go, 10.1.2.3. So onto that MacBook over there, the small one, ping 10.1.2.3, ping succeeds. So again, that MacBook can ping this MacBook. They're both in VLAN 2. But what I'll do now in Kali Linux is delete a VLAN. And the VLAN I'm going to delete is VLAN 2. So on the switch, show VTP status. At the moment, configuration revision number is still two. Show VLAN brief; we still have those VLANs. I've seen sometimes that this doesn't work that well, but notice here, VLAN 2 has now been removed. I've noticed sometimes you have to create a VLAN to speed this up, but if I type show VLAN brief, VLAN 2 is missing, and that MacBook can no longer ping this MacBook. I've basically removed these two devices from the network. Again, show interface gigabit zero two switchport. Gigabit zero two, the interface that that MacBook is connected to, is configured in VLAN 2 but the VLAN is inactive, so basically I've removed these devices from the network. If I have a look at gigabit zero three, that's the port that this MacBook is connected to. It's also in VLAN 2, so this command shows us that gigabit zero three is configured in VLAN 2, but it's inactive. I've removed the device from the network, essentially. So if I create VLAN 2 again, so show VLAN brief, I've now got VLAN 2 back on the switch. The pings should start succeeding once things converge and there you go, the pings are now succeeding. Interface VLAN 2 has also come up on the switch. So that MacBook can now ping this MacBook. But again, I can simply delete that VLAN, using Kali Linux. Show VLAN brief shows us that the VLAN exists. To speed things up, I could simply create another VLAN, so let's create VLAN 5, type exit, and as soon as I did that, the pings started failing on the MacBook because things converge quicker when you actually do something on the switch like create a VLAN. Otherwise you just need to wait a while for that VLAN to be removed. So show VLAN brief, VLAN 5 is there, but VLAN 2 is gone. And if you wanna really be nasty, you could simply say delete all VTP VLANS. So at the moment, we've got VLAN 1, 3, and 5. 1 will not be deleted 'cause it's a default VLAN. These other VLANs will also not be deleted but 3 and 5 should disappear when this converges. To speed it up, I'll create VLAN 10 and type end. So show VLAN brief, notice all the VLANs have gone. VLAN 3, 5, 2, 10 are all gone. That can basically break an entire network, if you're using VTP, so don't use VTP or set your devices to transparent. So either disable VTP or use transparent. Don't use server or client mode. VTP is a bad idea. Now there's some basic examples of how you can hack networks using Kali Linux. Make sure that you understand how your protocols work in your network and how you can secure your network. In other videos, I'll show you how you can protect your network from these kind of hacks, but in this video I wanted to show you what's possible using Kali Linux. I've been in your waters I thought you were my love I know one thing for sure",
    "transcript_keywords": [
        "Kali Linux",
        "VLAN",
        "Show VLAN",
        "Kali",
        "Linux",
        "Kali Linux host",
        "show",
        "VTP",
        "VLANs",
        "switch",
        "gigabit",
        "MacBook",
        "interface",
        "Cisco",
        "network",
        "Notice Kali Linux",
        "VTP VLANS",
        "DTP",
        "create VLAN",
        "DHCP"
    ],
    "transcript_entity_values": [
        "first",
        "six",
        "Spanning Tree",
        "three",
        "MacBook",
        "VLAN 2",
        "WireShark",
        "Cisco",
        "two",
        "four",
        "239.1.2.3",
        "10.1.2.254",
        "VLAN 2",
        "2",
        "zero",
        "Select Capture",
        "second",
        "5",
        "YouTube",
        "3",
        "SVI",
        "Gigabit zero",
        "VLAN",
        "Dynamic Trunking Protocol",
        "IP",
        "MacBook",
        "Spanning Tree",
        "10.1.2.2",
        "VLAN Trunking Protocol",
        "one",
        "VLAN 1",
        "OSPF",
        "3",
        "MAC",
        "239.1.2.3",
        "Cisco",
        "Windows 10",
        "10.1.2.123",
        "CCNA",
        "Spanning Tree",
        "gigabit zero",
        "Kali Linux",
        "VTP",
        "1",
        "DHCP",
        "5",
        "2",
        "Interface VLAN 2",
        "10",
        "CDP",
        "DTP"
    ],
    "transcript_entity_types": [
        "ORDINAL",
        "CARDINAL",
        "FAC",
        "CARDINAL",
        "ORG",
        "LAW",
        "ORG",
        "ORG",
        "CARDINAL",
        "CARDINAL",
        "DATE",
        "CARDINAL",
        "PRODUCT",
        "CARDINAL",
        "CARDINAL",
        "PERSON",
        "ORDINAL",
        "DATE",
        "ORG",
        "CARDINAL",
        "ORG",
        "PRODUCT",
        "ORG",
        "PRODUCT",
        "ORG",
        "FAC",
        "ORG",
        "CARDINAL",
        "LAW",
        "CARDINAL",
        "LAW",
        "ORG",
        "DATE",
        "ORG",
        "CARDINAL",
        "GPE",
        "PRODUCT",
        "CARDINAL",
        "ORG",
        "WORK_OF_ART",
        "CARDINAL",
        "PERSON",
        "ORG",
        "CARDINAL",
        "ORG",
        "CARDINAL",
        "DATE",
        "ORG",
        "CARDINAL",
        "ORG",
        "ORG"
    ]
}