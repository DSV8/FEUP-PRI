{
    "id": "Paabqb7IxG4",
    "title": "I Declared Victory. I was SOOO Wrongâ€¦ - Deep WiFi Troubleshooting",
    "channel": "Linus Tech Tips",
    "channel_id": "UCXuqSBlHAE6Xw-yeJA0Tunw",
    "subscriber_count": 15900000,
    "upload_date": "2023-01-28T17:59:03Z",
    "video_url": "https://www.youtube.com/watch?v=Paabqb7IxG4",
    "category": "Science & Technology",
    "tags": [
        "metageek",
        "wi-spy",
        "wispy",
        "tonic",
        "wireshark",
        "wire shark",
        "linus speaker problem",
        "linus audio issue",
        "living room",
        "sony",
        "linus sony speakers problem"
    ],
    "views": 1475491,
    "likes": 61077,
    "comments_count": 3531,
    "description": "Thank you for watching! It can become challenging to communicate online and work from home. With the help of Grammarly, the right tone can move any projects forward! Sign up for an account and get 20% off Grammarly Premium:   Create your build at   keyword optimized description (should be two lines long in the YouTube text editor and include the product name) - Copy from Trello  Discuss on the forum:   Check Out Metageek Software:  Buy a Wi-Spy Wi-Fi Spectrum Analyzer:  Buy a Edimax Wi-Fi Adapter Dongle:  Check Out Wireshark:  Check out a Wireshark Tutorial:   Purchases made through some store links may provide some compensation to Linus Media Group.   GET MERCH:   COME TO LTX 2023:   GET EXCLUSIVE CONTENT ON FLOATPLANE:   AFFILIATES, SPONSORS & REFERRALS:   OUR WAN PODCAST GEAR:   FOLLOW US  ---------------------------------------------------   Twitter:  Facebook:  Instagram:  TikTok:  Twitch:   MUSIC CREDIT --------------------------------------------------- Intro: Laszlo - Supernova Video Link:  iTunes Download Link:  Artist Link:   Outro: Approaching Nirvana - Sugar High Video Link:  Listen on Spotify:  Artist Link:   Intro animation by MBarek Abdelwassaa  Monitor And Keyboard by vadimmihalkevich / CC BY 4.0   Mechanical RGB Keyboard by BigBrotherECE / CC BY 4.0  Mouse Gamer free Model By Oscar Creativo / CC BY 4.0   CHAPTERS --------------------------------------------------- 0:00 Intro 1:37 How I messed up 3:03 Prime Suspect 4:22 New Weapon: Tonic 6:20 Thanks, Sony 6:55 How it works 9:09 WireShark 12:00 #NoFilter  13:36 The True Culprit... 16:03 Outro",
    "description_links": [
        "https://grammarly.com/LTT",
        "https://www.buildredux.com/linus",
        "https://linustechtips.com/topic/1484535-i-declared-victory-i-was-sooo-wrong%E2%80%A6/",
        "https://lmg.gg/qZDu2",
        "https://lmg.gg/OrxHy",
        "https://geni.us/EGbdaH",
        "https://lmg.gg/Dk9uN",
        "https://lmg.gg/dGWDf",
        "https://lttstore.com",
        "https://lmg.gg/ltx23",
        "https://lmg.gg/lttfloatplane",
        "https://lmg.gg/masponsors",
        "https://lmg.gg/podcastgear",
        "https://twitter.com/linustech",
        "http://www.facebook.com/LinusTech",
        "https://www.instagram.com/linustech",
        "https://www.tiktok.com/@linustech",
        "https://www.twitch.tv/linustech",
        "https://www.youtube.com/watch?v=PKfxmFU3lWY",
        "https://itunes.apple.com/us/album/supernova/id936805712",
        "https://soundcloud.com/laszlomusic",
        "https://www.youtube.com/watch?v=ngsGBSCDwcI",
        "http://spoti.fi/UxWkUw",
        "http://www.youtube.com/approachingnirvana",
        "https://www.instagram.com/mbarek_abdel/",
        "https://geni.us/PgGWp",
        "https://geni.us/mj6pHk4",
        "https://geni.us/Ps3XfE"
    ],
    "transcript": "- It's not fair. I told you my wifi was fixed. It worked perfectly for a week. Then right after we uploaded this video, it made a big liar out of me. I hate it when that happens. Intermittent problems are the worst. Thankfully, now I have this. That's right, three cheap wifi adapters and a USB hub. Okay, admittedly, it's not that impressive. But the software behind it is. Through the power of spectrum analysis and packet capture, we're gonna be digging deeper than ever into what causes wifi to randomly lose performance or drop out, and even though it wasn't our intention we're gonna be exposing some of the BS marketing that Sony uses to sell their wireless home audio systems. BS marketing that I unknowingly spread when I did a sponsored video on the very product that has been causing me all this trouble. Just like I'm about to spread this segue to our sponsor. - Build Redux. Build Redux takes the challenge and the hassle out of building your own PC. With configuration options, support guides to aid you, and competitive pricing versus building a PC yourself, why not kick your feet up and let Build Redux handle it for you? Head to buildredux.com/linus and start your new build today. (upbeat music) - First up, I need to show you guys how I got bamboozled into thinking that I had the solution last time. Every wifi card is constantly looking for wireless networks. It can do this passively just listening for different networks to announce their presence or it can do it actively by sending out a probe request and then looking at the replies that come back. Surprisingly, the active method is actually a lot more power-efficient so that's what most devices do by default. That means that when I was going around pointing my Wi-Spy antenna at anything and everything in the house, the wifi card in my laptop was happily probing away in the background blasting out enough power that even my very high-tech directional antenna was able to pick up the signal. The only thing that is hard to explain at this point is why sometimes it didn't seem to pick anything up, 'cause that's what led us to believe that the source of the interference could be malfunctioning light switches. I mean, I should have dismissed this theory as quickly as I dismissed the 2.4 gigahertz microwave. Only a grossly malfunctioning 900 megahertz device should be capable of emitting any kind of 5 gigahertz interference, like so defective that it wouldn't even pass compliance testing. But in fairness to me, with everything I've been through with these switches, nothing would surprise me at this point. - [Phone Representative] That is correct. - It's still my bad though. I should have dug deeper. And a good place to start digging would be the hidden wireless SSID that we determined is associated with the base unit here on Sony's HT-A9 wireless audio system. Last time around, we took Sony at their word when they claimed that they were using wireless sound specification 4.0 to deliver wireless audio to the speakers distributed around my family room. But looking back on it, if both the freebie wifi analyzer on my phone and the paid Chanalyzer software on my laptop saw a hidden wifi network, then maybe wireless audio specification 4.0 is just wifi. To check our theory, we'll be using MetaGeek's Chanalyzer again with the Wi-Spy Adapter and we'll be looking for that familiar shape that we know is the Sony base unit. It looks like it's around channels 44 and 48 today, although that does tend to vary from day to day, which is part of the reason for my problems. We can see though there's a hardware address associated with this, so let's remember that as we peel back the next layer of this problematic onion with a new piece of software from MetaGeek called Tonic. Wait, that's Wireshark. Tonic. Tonic works by capturing spectrum information also from the Wi-Spy, but at the same time by capturing all of the wireless network traffic that is bouncing around in the house using off-the-shelf USB wifi adapters. Following MetaGeek's recommendation, we went with three of these Edimax EW-7833UAC units that retail for about $50 each. Each of these has three antennas and supports three by three spatial streams, which means that they're able to take advantage of multi-path transmission to significantly improve throughput, and more importantly it means that it's extremely unlikely that they're gonna miss anything when we start capturing traffic. Just for transparency, we're probably gonna do a little bit of movie magic here and show you guys a mixture of live and pre-recaptured data. We got a ton of audio dropouts and other artifacts when we were testing this out a few days ago. But I think it's a law of the universe that the second to camera starts rolling, your product demonstration will fail. All right, the first thing that we're gonna do then is limit our view to the 5 gigahertz spectrum. Then we're gonna click on Show Hidden. And sure enough, there's a hidden network with the Mac address that we noticed in Chanalyzer. That is our base unit that I hid on top of the other base unit. Get it? That's a subwoofer. Sorry. Anywho, when we click on that network, we get a list of access points, which is just one, because even though I did gesture to one of my RUCKUS APs, they are not the problem. It is entirely this. It's on channel 44 and it has 5 clients, which makes sense because we've got 4 wireless speakers around the room and then also the subwoofer. When we click on the access point, we get some more detail about it and we get some graphs and charts that summarize the traffic that's being transmitted by it. If it can show us all this information about the AP's radio, that means according to our contact at MetaGeek, there is pretty much no doubt that Sony's wireless sound specification is just a typical wifi 4 network, rather than some special technology they've invented. Though, I mean that does kind of make sense, since getting some new wireless technology certified for 5 gigahertz globally would be a monumental task. But then from my point of view, they should just say it's wifi. That would've made troubleshooting this a lot easier from the start. Looking at the airtime distribution now, it's interesting that basically all the traffic sent out by this base unit is broadcast, rather than being sent to a particular client. What that means then is that this base unit is just blasting wifi signals out into the air for any device that's listening without any regard for whether the signal actually gets to all of the speakers or some of the speakers or the speakers and something else, and then it's just up to each speaker to take that data and sort it out into which channel it's supposed to play. I suppose every speaker just gets all the data for every channel, which might explain some of why they are not able to make efficient use of the spectrum. I mean, I can kind of see why they took this approach since they need to keep latency low enough to keep audio synced to the picture. But clearly it's not working. A little weird, but not super weird yet. Yet. When we switch over to the client list here, we're gonna see a pretty high percentage of remitted packets. Remember, these are going from these guys back to the base station. This Retry column here means that when the speakers are sending some kind of data back to the base unit, maybe it's timing information or related to the room correction, I don't know, whatever it is, it has to resend that data quite often because the base unit isn't receiving it on the first attempt. Normally, you would wanna see less than about 10% retransmission on your wireless network and less than 2% if you're dealing with something like voiceover IP. Anything higher and you're gonna start to notice an impact on performance. In this case though, I don't think that's the source of our problems, because if we click through and look at the number of packets being sent by the speakers, it is such a tiny amount of traffic that even if all four of them had to reattempt 100% of the packets they sent, we'd only be looking at a few hundred packets spread out over 10 minutes. I don't think that's the issue. So then, we've determined that this Sony surround sound sound bar is using plain boring old wifi and that it is basically just spewing audio data out for the speakers to pick up and turn into sound with very little communication going back from the speakers to the base unit. Just the occasional acknowledgement and little bits of what Tonic classifies as quality of service data. That still doesn't tell us what's wrong. We're gonna have to go even deeper. Let's take this data and put it into Wireshark, which is a free network capture and analysis tool that will let us go through each individual frame to try to determine what's happening. Wireshark uses the exact same data as Tonic, but it's not quite so user-friendly. Where Tonic organizes things into networks and graphs and charts that we can easily explore, Wireshark is more like standing in front of a fire hose of raw data. In the default view, we get every bit of traffic from every device on every network that our wireless interfaces can see over the same 10 minutes that we were looking at in Tonic. I think it might take 10 minutes just to scroll to the bottom of this thing. Nobody wants to watch me do that, right? Luckily, Wireshark has a powerful filter system that we can use to turn the fire hose into, well, a smaller fire hose. We know we're interested in what's happening on channels 44 and 48, so we'll start by narrowing our view down to those. Okay, we're on the right track here. It looks like almost all of the transmissions we see here are multicast data coming from the base unit. It looks like it's sending out a couple of frames of data every 2 or 3 milliseconds. We'll just scroll down a little bit, see if there's anything interesting. Ah, right here it switches the channel of the multicast to channel 48 and if we look in the Delta column, we see that it was 74 milliseconds since the previous transmission. That is pretty significant. We mere mortals don't typically perceive LEGs shorter than 8 to 12 milliseconds, so when we see the deltas of 0 to 3 milliseconds leading up to this switch, those would pass us by totally unnoticed. 74 milliseconds, though? That's a lot. What's weird though is that there is nothing else happening on these channels at this time, so while it's normal for a wireless network to jump around from channel to channel in order to reduce interference, if there's nothing else going on, why does it switch? Maybe we'll see something if or when it switches back. At 3996, it goes back to 44 with another 76 millisecond LEG. There's also a huge jump in the frame number here so that means that there's a bunch of other traffic that we're not seeing because of our filter. Let's turn our filter off for a minute. There's a bunch of traffic on other channels at this time, but it looks like it's mostly access points talking to other devices and mostly on channels that are at the other end of the spectrum from the Sony base unit. Let's change up our filter again and see if there are any other long delays on our channels. Let's say anything more than 50 milliseconds. Wow. Some of these are more than 100 milliseconds, a 10th of a second. That is a massive delay, which could totally explain the audio dropouts that we got when we were testing. So now, okay, we're gonna take this and we're gonna jump down to a period where we know that the audio had serious problems. And what in the world is going on here? This thing is changing channels more than once a millisecond, and it looks like, yeah, it's sending out more data more often so it goes from sending 2 frames on one channel every 2 to 3 milliseconds, to 4 or more packets on 2 channels as often as every millisecond. Let's check the whole lower end of the 5 gigahertz spectrum just in case something else is making it behave. No, there's nothing, like, there's bits and pieces of other traffic, but it's not much and I'm not seeing anything on 44 or 48 other than the Sony gear, which means that our Ghost Hunter episode looking around for the source of the interference was pretty close to a real episode of \"Ghost Hunter\", meaning we were looking for something that didn't exist and misinterpreting the data we collected. The true culprit then is just Sony, who has no reason to be shifting channels or sending out more frames like this, at least not one that's obvious to me or to our friends at MetaGeek, unless it's ghosts. No, I'm just kidding. Which means that unless Sony re-engineers how this thing works, I'm going to keep having this problem and so will many other owners of this wireless setup. I'm gonna have to append both the last video that we did searching for the source as well as the sponsored video that we did on these, because obviously I don't want anyone buying them now. I wanna give a massive shout out to MetaGeek though for providing the tools we needed to diagnose this today as well as their software. We're hoping that our labs team is gonna make excellent use of that relationship in the coming months and years. The path forward for me then is what? I guess just to do what so many of you suggested last time around and put an AV receiver in here, and then find a wife-approved way of running wires, I guess, over to the surrounds. I'm gonna miss the room correction from these Sonys, that's for sure. Like that was the cool thing that sold me on them was A, they sound really great, and B, you could kind of put them anywhere and you get a really convincing surround experience. But I mean, who knows? Maybe in the grand scheme of things, that sucks too and I'd be better off with some basic distance correction and EQ from an AVR. With some help from the labs team, we're gonna find the answer to that, and while we're at it hopefully we can shed some light on who has the best mainstream room correction. 'Cause darn it, I wanna stop fighting with this and I want to do it right this time, like I do my segues right, like this segue to our sponsor. - Thanks to Grammarly for sponsoring this video. When it comes to work, communication is key, even if you don't have a writing job. Miscommunication can cause confusion with your team, leading to delayed projects, and that's why we recommend checking out Grammarly Premium's tone rewrite suggestions feature. It will help you by providing suggestions to ensure that your writing comes across clearly and confidently. A few people on our business team use Grammarly to help keep their writing professional and mistake-free. To get started, all you have to do is install the desktop app, log in and start typing. I mean, the right tone can move any project forward with the help of Grammarly, so go to grammarly.com/LTT to sign up for an account and if you'd like to enhance your writing and tone, upgrade to Grammarly Premium for 20% off. - If you guys enjoyed this video, why don't you check out the first time we worked with MetaGeek? It was a long time ago, but it was a really good look at their Chanalyzer software and how it can be used to find non-wifi sources of interference, which if you'll recall was what I thought I was looking for.",
    "transcript_keywords": [
        "base unit",
        "Sony base unit",
        "Sony",
        "wireless",
        "data",
        "wifi",
        "base",
        "unit",
        "channels",
        "network",
        "channel",
        "Sony base",
        "speakers",
        "audio",
        "Tonic",
        "wireless network",
        "traffic",
        "time",
        "milliseconds",
        "wireless audio"
    ],
    "transcript_entity_values": [
        "Sony",
        "48",
        "5 gigahertz",
        "4.0",
        "one",
        "second",
        "the Wi-Spy",
        "74 milliseconds",
        "first",
        "more than 100 milliseconds",
        "44",
        "a week",
        "Wireshark",
        "the same 10 minutes",
        "2.4 gigahertz",
        "a few hundred",
        "8 to 12 milliseconds",
        "AP",
        "76 millisecond",
        "Wireshark",
        "5 gigahertz",
        "today",
        "a few days ago",
        "MetaGeek",
        "0 to 3 milliseconds",
        "3996",
        "more than 50 milliseconds",
        "Chanalyzer",
        "Edimax",
        "MetaGeek",
        "about $50",
        "Mac",
        "10th",
        "all four",
        "MetaGeek",
        "Ghost Hunter",
        "Grammarly",
        "Grammarly Premium's",
        "3 milliseconds",
        "the Wi-Spy Adapter",
        "5",
        "100%",
        "Ghost Hunter",
        "4",
        "20%",
        "900 megahertz",
        "48",
        "three",
        "less than 2%",
        "Build Redux",
        "the coming months and years",
        "Grammarly Premium",
        "2",
        "USB",
        "Show Hidden",
        "EQ",
        "a minute",
        "SSID",
        "from day to day",
        "Tonic",
        "about 10%",
        "AV",
        "Sonys",
        "HT-A9",
        "Delta",
        "10 minutes"
    ],
    "transcript_entity_types": [
        "ORG",
        "DATE",
        "CARDINAL",
        "CARDINAL",
        "CARDINAL",
        "ORDINAL",
        "ORG",
        "QUANTITY",
        "ORDINAL",
        "QUANTITY",
        "CARDINAL",
        "DATE",
        "ORG",
        "TIME",
        "QUANTITY",
        "CARDINAL",
        "TIME",
        "ORG",
        "QUANTITY",
        "PRODUCT",
        "QUANTITY",
        "DATE",
        "DATE",
        "GPE",
        "QUANTITY",
        "CARDINAL",
        "QUANTITY",
        "PERSON",
        "ORG",
        "FAC",
        "MONEY",
        "PERSON",
        "ORDINAL",
        "CARDINAL",
        "ORG",
        "WORK_OF_ART",
        "PERSON",
        "ORG",
        "QUANTITY",
        "ORG",
        "CARDINAL",
        "PERCENT",
        "PERSON",
        "CARDINAL",
        "PERCENT",
        "QUANTITY",
        "CARDINAL",
        "CARDINAL",
        "PERCENT",
        "FAC",
        "DATE",
        "ORG",
        "CARDINAL",
        "ORG",
        "WORK_OF_ART",
        "ORG",
        "TIME",
        "ORG",
        "DATE",
        "ORG",
        "PERCENT",
        "PRODUCT",
        "ORG",
        "PRODUCT",
        "LOC",
        "TIME"
    ]
}