{
    "id": "DAajWlVcskw",
    "title": "Free CCNP 350-401 ENCOR Complete Course: 6.4: REST APIs Part 5",
    "channel": "David Bombal",
    "channel_id": "UCP7WmQ_U4GB3K51Od9QvM0w",
    "subscriber_count": 2650000,
    "upload_date": "2020-05-22T16:06:54Z",
    "video_url": "https://www.youtube.com/watch?v=DAajWlVcskw",
    "category": "Science & Technology",
    "tags": [
        "ccnp",
        "python",
        "ccnp encor",
        "ccnp enterprise",
        "rest api",
        "cisco ios xe",
        "cisco rest api",
        "encor",
        "cisco sdn",
        "rest",
        "restful api",
        "350-401",
        "json",
        "ccna",
        "ccnp training",
        "new ccnp",
        "ccnp study",
        "cisco certifications",
        "cisco training",
        "cisco",
        "ccnp certification",
        "encor 350-401",
        "ccnp automation",
        "ccie encor",
        "cisco ccnp exam",
        "ccie enterprise",
        "cisco ccnp",
        "cisco encor training",
        "cisco encor exam",
        "ccnp review",
        "cisco ccna",
        "ccna study",
        "ccna training",
        "cisco encor test",
        "learn python",
        "python rest api"
    ],
    "views": 20929,
    "likes": 882,
    "comments_count": 99,
    "description": "This is a FREE complete CCNP 350-401 ENCOR Course. In this video I show you how to use Python and a REST API POST to create and interface; and REST API DELETE to delete an interface on a Cisco IOS XE device.  It's important that you learn both REST APIs and Python for the ENCOR exam as well as the real world.  I will be covering all the topics in the Cisco CCNP ENCOR exam in this course. I want to make this content practical and it will include a lots of labs and demonstrations to help you better understand topics on the exam.  Slides:    Previous video:   CCNP ENCOR playlist:   Menu: Overview: 0:00 GET script: 1:19 POST script: 2:32 DELETE script: 7:30 Isn't the CLI easier? 11:02  ====================== Special Offers: ====================== Cisco Press: Up to 50% discount Save every day on Cisco Press learning products! Use discount code BOMBAL during checkout to save 35% on print books (plus free shipping in the U.S.), 45% on eBooks, and 50% on video courses and simulator software. Offer expires December 31, 2020. Shop now.  Link: bit.ly/ciscopress50  Boson software: 15% discount Link: bit.ly/boson15 Code: DBAF15P  GNS3 Academy: CCNA ($10): bit.ly/gns3ccna10 Wireshark ($10): bit.ly/gns3wireshark  DavidBombal.com CCNA ($10):  Wireshark ($9): bit.ly/wireshark9  Python REST API JSON CCNP CCIE CCNP ENCOR CCNP 350-401 CCNP Enterprise ccnp training CCNP Security CCNP Data Center CCNP Service Provider CCNP Collaboration Cisco Certified Devnet Professional Cisco Certified Network Professional  Please note that links listed may be affiliate links and provide me with a small percentage/kickback should you use them to purchase any of the items listed or recommended. Thank you for supporting me and this channel!    #ccnp #python #restapi",
    "description_links": [
        "https://bit.ly/encorapi5",
        "https://youtu.be/kZ4YqqlU5eM",
        "https://bit.ly/freeccnp",
        "http://bit.ly/yt999ccna"
    ],
    "transcript": "- In a previous video in this course, which I've linked here and below, I showed you how to use Python, to interact with the REST API of an iOS XE router. I showed you how to connect to that device and retrieve a list of interfaces. I showed you the interaction when we use Postman and Python. So I used Postman to create an interface and then I used Python to retrieve the list of interfaces on the iOS XE device. In this video, we're going to take it a step further, we're going to use Python to create a loopback interface on a router. And then we're gonna use another Python script to delete the interface. We are iterating our scripts and hopefully you're learning something through each of these videos. If you are please consider liking this video, consider subscribing to my YouTube channel, and consider clicking on the bell to get notifications when I post a new video. I'm really hoping that this free CCNP course is helping many of you. So please leave comments below this video and tell me what you'd like me to cover, tell me how the videos are helping you. Okay, without further ado, let's get started, and I'll show you how to create a more complex Python code. (upbeat music) Now originally, I was only gonna show you how to do a GET using a Python script, but I figured a lot of you would wanna see more than that. So what I've done is create a whole bunch of scripts that you can use. The first one is, once again, the GET interfaces. I've updated this so that we can see a status code as well as the response text rather than just the response text. I've also removed import sys because that's not actually required. All we need is import requests. So let me run that now, because I'm in a different location, wanna make sure that the script still works okay. So, let's use a better naming convention. So let's say getinterfaces.py. And I'll paste that script in. So all I've done is paste the script in that I've given you. I'll save that. And let's run python3 getinterfaces.py. That should give us the interfaces on the XE router hosted by DevNet. As you can see at the moment, we only have gigabit one, gigabit two and gigabit three interfaces on the router. Okay, so now let's create an interface. Very similar script, import requests, we're going to disable warnings about self signed certificates, our username is developer, our password is the Cisco12345, we are connecting to this URL. That's exactly what I showed you in Postman previously. So if I wanted to create an interface using Postman I'd use this URL. Authorization is developer, Cisco12345, as you can see over here. Headers, we're going to use application yang data JSON. So scrolling down here, notice the headers are exactly the same, except content type. Exactly the same once again as Postman. And this is what's nice about Postman, you can build this stuff and test it and then create Python code. Postman actually allows you to look at the code, so if I click on Code on the right hand side, I can see the Python requests code. So you could build your own script based on this output. So going to Body as an example, this is the command that we wanna send to create the loopback interface. So, under Code you'll notice it uses this backslash, backslash means continuation of line in Python. So that's not very easy to read. So going back to my script, notice my payload is exactly this payload in Postman, try and get those side by side. So this is actually this, just with a backslash. All I've done is added backslash to tell Python that it's a single line. This is one continuation, rather than Python seeing it as separate lines. Postman once again does something very similar here, it's just not very easy to read. They've also added some additional headers, which I didn't add, because in my actual request to the router, I'm sending my authentication information, which is the username and password, Postman added to that to the headers. So I've built my own version of this rather than following Postman exactly. But Postman can help you if trying to build Python scripts. So what we're doing here is we're using requests, the requests library, we're sending a request, it's a POST. So rather than sending a GET it's a POST, the URL that we're using is this URL over here. Authentication information is our username and password, our headers are these headers here. The data is the payload, which is this JSON information, the JSON payload. And we're not gonna verify the certificate. So verification of certificate is set to false. And then we're gonna print the status code and print the response. So I'll copy this. And in Ubuntu, I'll create a new script. So nano create1interface.py and I'll paste that in. Control + X, save the script. Before I create the interface, let's see the interfaces on the router once again. So python3 getinterfaces. At the moment, you can see there are no loopback interfaces on the router. Status code is 200, because I changed my script to print the status code, and then we get the actual response. So here's the response text, showing us the interfaces on the router. No loopback once again. So python3 create1interface.py. This will connect to the router and create an interface. Status code is 201, response text is nothing. That's exactly what we saw when we used Postman. So no response is given back, but if I run python3 getinterfaces I should see that that interface is created on the router. And there you go, interface has been created. We can see that once again in Postman. If I get interfaces on the router, so click Send. Notice that loopback exists. Now if I try and create that loopback again, so I'll run the script again, create one interface, we should get back an error, because the interface already exists. So notice the status code here is 409, it's an error. Error message object already exists. So we can't create that interface because it already exists. So I've created a Python script, which once again, you can get from the PowerPoint presentation that deletes an interface. The difference here is we are sending DELETE rather than POST and under the URL, if I scroll to the right hand side, I'm adding the interface name. So we're importing requests as before, we are disabling warnings about self signed certificates, username and password are set here. We are going to delete Loopback1234, that I've put into a variable that's then used as part of the URL. Payload is blank, headers is set to accept application yang data JSON. Response, this is a variable. We're using the requests library. We're using DELETE, URL is this, authentication, username and password, headers per this, payload is blank. We are not going to verify the certificate. We're going to print out the status code and the response text. So I'll copy that code in Ubuntu nano let's create a script called delete1interface.py. I'll paste that code in. Save it. So, before I run that, python3 getinterfaces.py. This will once again tell us the interfaces on the router, we can see that loopback interface. Python3, that's because I'm using Python three in this example, delete1interface.py. Let's delete that single interface. Status code is 204. Response text is nothing. Get interfaces shows us that that interface is gone. Now Postman can help if you're not sure about to the codes or you can just look them up. So let's create that interface again. And then what I'll do in Postman is delete it. So in Postman, get interfaces, notice it's a GET, I'll send that again, we've got that interface on the router. If I delete the interface, notice we're using DELETE here. The interface that I'm gonna delete is Loopback1234. Click Send. Status code is 204. Server has successfully processed the request but is not returning any content. That's exactly what we saw when we ran the script. Using Python, if I try and delete it again, this should return an error because that interface doesn't exist. Notice status code 404, the famous can't find this resource error code. If I do that in Postman once again, requested resource could not be found. So now I've shown you through Python code, how to get to the interfaces on the router, how to create a loopback on the router and how to delete a loopback on the router. But that's only a single loopback. Now you may say once again that it's easier to use the CLI to do this. And that may be true if you've got one router and one interface. But let's create a whole bunch of loopbacks. So in the next script, I'm gonna show you how to create a whole bunch of loop backs. And then I'll show you how to delete a whole bunch of loop backs. Now this video was getting too long, so I've left the looping for the next video. So in this video, we created a single interface, we deleted a single interface, don't lose sight of where we're going with these Python scripts. In the next video, you'll see a little bit more about automation, where I can create a whole bunch of loopback interfaces and delete a whole bunch of loopback interfaces on a single device. Don't get hung up about the fact that it's a loopback interface. I'm starting simply, I'm trying to show you through simple code, how you can do things using Python. Just imagine where this can go. You can eventually create a script that creates a whole bunch of VLANs on many, many devices, or configures the interfaces of switches to a standard that you've got. So you could connect to 100 switches, configure 12 or 24 ports in every one of those switches to a standard. That's the power of automation, or one of the options in automation, there are many others as well. But one of the options is rather than you manually doing things, you get a computer or a script to do it for you. Spend your time on the intelligence stuff like which VLANs do we actually need? Or do we actually need to enable this port? Shouldn't it be shut down? You need to make the intelligent decisions and then delegate the basic repetitive tasks to code. Okay, see you in the next video. (upbeat music)",
    "transcript_keywords": [
        "REST API",
        "Python",
        "interface",
        "Postman",
        "code",
        "create",
        "interfaces",
        "script",
        "router",
        "Python code",
        "status code",
        "Python script",
        "delete",
        "loopback",
        "create Python code",
        "video",
        "loopback interface",
        "URL",
        "status",
        "response"
    ],
    "transcript_entity_values": [
        "first",
        "409",
        "three",
        "CCNP",
        "JSON",
        "Cisco12345",
        "200",
        "12",
        "two",
        "iOS XE",
        "204",
        "YouTube",
        "the REST API",
        "201",
        "Python",
        "XE",
        "one",
        "PowerPoint",
        "Postman",
        "JSON",
        "Python",
        "404",
        "100",
        "24",
        "CLI",
        "yang",
        "POST",
        "python3"
    ],
    "transcript_entity_types": [
        "ORDINAL",
        "CARDINAL",
        "CARDINAL",
        "ORG",
        "ORG",
        "PERSON",
        "CARDINAL",
        "CARDINAL",
        "CARDINAL",
        "PRODUCT",
        "CARDINAL",
        "ORG",
        "ORG",
        "CARDINAL",
        "ORG",
        "ORG",
        "CARDINAL",
        "PRODUCT",
        "PERSON",
        "GPE",
        "WORK_OF_ART",
        "CARDINAL",
        "CARDINAL",
        "CARDINAL",
        "ORG",
        "PERSON",
        "ORG",
        "FAC"
    ],
    "vector": [
        -0.08449113368988037,
        0.028122553601861,
        -0.03148142248392105,
        -0.028213022276759148,
        -0.008999682031571865,
        -0.023548511788249016,
        -0.014528518542647362,
        0.04232790321111679,
        -0.07684998959302902,
        0.01617468148469925,
        0.04998635873198509,
        -0.02260863222181797,
        -0.010990580543875694,
        0.0177613515406847,
        0.0633033812046051,
        -0.04595189541578293,
        0.026526037603616714,
        -0.030440248548984528,
        0.032171159982681274,
        -0.026123221963644028,
        0.03964097052812576,
        -0.016822442412376404,
        0.05091634392738342,
        0.02419951558113098,
        -0.06593365967273712,
        0.00443531246855855,
        0.03190526366233826,
        0.01215690840035677,
        -0.01277230679988861,
        -0.022696735337376595,
        -0.016618480905890465,
        0.02428978495299816,
        0.009638292714953423,
        0.0234458576887846,
        0.045195844024419785,
        -0.002793408464640379,
        0.018196789547801018,
        -0.08101005107164383,
        -0.015590490773320198,
        -0.03952181711792946,
        -0.04420776665210724,
        0.010654079727828503,
        -0.06595069169998169,
        0.008516879752278328,
        0.08208255469799042,
        -0.05414624139666557,
        -0.10142144560813904,
        -0.07068479806184769,
        0.03526976704597473,
        -0.007528815884143114,
        -0.021796993911266327,
        -0.007614531088620424,
        -0.02035973034799099,
        -0.08426430076360703,
        -0.0040535167790949345,
        0.001118537737056613,
        -0.0034528321120887995,
        -0.021727241575717926,
        0.008295792154967785,
        -0.027408359572291374,
        -0.013893567956984043,
        -0.05459363013505936,
        0.02572019398212433,
        0.04080123081803322,
        0.053367409855127335,
        -0.00424428004771471,
        -0.044083502143621445,
        0.070546954870224,
        0.05858902260661125,
        -0.07468128204345703,
        -0.09514110535383224,
        -0.010540683753788471,
        -0.04276895895600319,
        0.059864118695259094,
        -0.004330313764512539,
        0.0013588877627626061,
        0.04203929752111435,
        -0.08968145400285721,
        -0.08332857489585876,
        -0.035563282668590546,
        0.05506056919693947,
        0.024026479572057724,
        -0.0553402453660965,
        0.03315100818872452,
        0.09203459322452545,
        0.0265593733638525,
        0.029912956058979034,
        0.06470746546983719,
        -0.026682602241635323,
        -0.007521351799368858,
        0.04948898404836655,
        -0.00294027803465724,
        -0.049229077994823456,
        -0.005819255020469427,
        0.05337495356798172,
        0.02486131712794304,
        0.027720436453819275,
        -0.07523239403963089,
        -0.1030697226524353,
        0.05923318862915039,
        0.07337994873523712,
        -0.020687930285930634,
        -0.038446832448244095,
        -0.0359097383916378,
        -0.05556474253535271,
        -0.003886336227878928,
        0.07925364375114441,
        0.007253967225551605,
        0.034048210829496384,
        0.006931442301720381,
        -0.07836516946554184,
        0.012222114019095898,
        -0.039507847279310226,
        -0.04414265602827072,
        0.05691572651267052,
        0.12872295081615448,
        0.04891982674598694,
        0.11433186382055283,
        0.09613202512264252,
        0.01908518187701702,
        0.010652073659002781,
        0.02717745676636696,
        -0.07627259939908981,
        -0.014855573885142803,
        -0.017102785408496857,
        -0.09962357580661774,
        0.08213743567466736,
        6.333097772593972e-33,
        -0.007846049964427948,
        0.0020960806868970394,
        -0.05686357617378235,
        0.0342322513461113,
        0.047693464905023575,
        -0.0002995995164383203,
        0.11333350092172623,
        0.12569335103034973,
        -0.09966656565666199,
        -0.013145520351827145,
        0.012858365662395954,
        0.09796363115310669,
        -0.013423815369606018,
        0.042394790798425674,
        -0.03540341183543205,
        -0.07597324997186661,
        -0.09521439671516418,
        0.06488458067178726,
        0.031557731330394745,
        0.020950032398104668,
        0.03697291761636734,
        -0.034430935978889465,
        0.04492838680744171,
        0.007689051795750856,
        0.024761540815234184,
        0.012231700122356415,
        -0.01973327435553074,
        -0.01546537782996893,
        0.041794586926698685,
        0.00909028947353363,
        -0.0736294537782669,
        0.003981493413448334,
        -0.11784385144710541,
        -0.04431242123246193,
        0.039584968239068985,
        0.016518784686923027,
        -0.022073809057474136,
        -0.04112613946199417,
        -0.04603682830929756,
        -0.029532672837376595,
        -0.10243798792362213,
        0.050053466111421585,
        -0.05319199711084366,
        -0.05495643988251686,
        -0.09149333089590073,
        -0.030476663261651993,
        0.004981398582458496,
        0.006522067356854677,
        0.07170438766479492,
        -0.020081056281924248,
        -0.03276278078556061,
        0.008680026978254318,
        -0.049710463732481,
        -0.12453319132328033,
        0.003419911954551935,
        -0.07430195063352585,
        0.05781588330864906,
        -0.0015104900812730193,
        -0.001743601867929101,
        -0.06814757734537125,
        0.07865459471940994,
        0.026352373883128166,
        -0.05697043985128403,
        -0.022228728979825974,
        -0.04710386320948601,
        0.05529016628861427,
        -0.11140821129083633,
        -0.06316151469945908,
        0.08379488438367844,
        -0.023265769705176353,
        -0.06695279479026794,
        0.02469024248421192,
        -0.013780399225652218,
        -0.03469090536236763,
        0.06438080966472626,
        0.0048053814098238945,
        -0.06187476962804794,
        -0.003456246107816696,
        0.01778404414653778,
        0.007344298996031284,
        0.04819121211767197,
        -0.03737959265708923,
        0.0012367607560008764,
        -0.012716381810605526,
        0.01935075782239437,
        -0.0018562879413366318,
        0.05409039929509163,
        -0.045397501438856125,
        -0.07384806126356125,
        -0.01704629696905613,
        -0.008186053484678268,
        -0.024204714223742485,
        0.04325798153877258,
        -0.003020833246409893,
        0.05096867308020592,
        -8.069312479650091e-33,
        0.040726352483034134,
        0.0147636067122221,
        -0.05027414858341217,
        -0.02537507936358452,
        -0.011102606542408466,
        -0.02733372151851654,
        0.017371000722050667,
        0.03970321640372276,
        0.04950174316763878,
        0.024532552808523178,
        0.001945135765708983,
        -0.03249604254961014,
        0.03415749967098236,
        0.006559443194419146,
        0.019159944728016853,
        -0.052273210138082504,
        -0.150456503033638,
        0.021193113178014755,
        -0.018092818558216095,
        0.012157527729868889,
        -0.027162473648786545,
        0.14890915155410767,
        -0.021052226424217224,
        -0.015260591171681881,
        -0.03699105978012085,
        0.031434085220098495,
        -0.014029723592102528,
        -0.00553140277042985,
        0.030382443219423294,
        -0.04939940944314003,
        -0.06884011626243591,
        -0.028273403644561768,
        -0.05743516609072685,
        0.07929719239473343,
        -0.012229627929627895,
        0.05069246515631676,
        0.0790320411324501,
        0.081695556640625,
        -0.05111211910843849,
        0.02439565770328045,
        0.05789906904101372,
        0.008448479697108269,
        -0.05000496283173561,
        -0.0377504825592041,
        0.02347022481262684,
        0.011796733364462852,
        -0.006888978183269501,
        0.06959130614995956,
        -0.0207905825227499,
        0.06315382570028305,
        0.02562127262353897,
        0.01629498042166233,
        -0.0992477685213089,
        -0.08464298397302628,
        -0.004944673739373684,
        0.01187079306691885,
        -0.00496869720518589,
        -0.08800341933965683,
        -0.04244614765048027,
        -0.03357528895139694,
        0.008928030729293823,
        0.029672004282474518,
        -0.024700088426470757,
        0.05719290301203728,
        0.032002754509449005,
        -0.10026665031909943,
        -0.052429672330617905,
        -0.014322248287498951,
        -0.02400575764477253,
        -0.06539147347211838,
        -0.032986778765916824,
        -0.016116363927721977,
        0.08971881121397018,
        -0.05657977610826492,
        0.049168262630701065,
        0.009859957732260227,
        -0.021121973171830177,
        -0.03737226873636246,
        -0.030649054795503616,
        -0.023479999974370003,
        -0.025968747213482857,
        -0.0012052796082571149,
        0.03143484890460968,
        0.15863658487796783,
        -0.037939511239528656,
        0.06532298028469086,
        0.0321941003203392,
        -0.011904120445251465,
        -0.029285147786140442,
        0.07384245097637177,
        -0.05135680362582207,
        0.02886434830725193,
        0.1207888051867485,
        0.11760231852531433,
        0.005521595478057861,
        -5.216081433445652e-08,
        -0.011940398253500462,
        0.014423564076423645,
        -0.047865208238363266,
        0.09213453531265259,
        -0.11976567655801773,
        0.03135191649198532,
        -0.017971673980355263,
        -0.03911597654223442,
        0.04433634132146835,
        -2.5996336262323894e-05,
        0.014902601018548012,
        0.01559657882899046,
        -0.058272358030080795,
        0.06817226856946945,
        -0.0325472317636013,
        0.07198391109704971,
        -0.007680760230869055,
        0.04095804691314697,
        0.010065468959510326,
        -0.07557915896177292,
        0.04568883031606674,
        -0.0525931715965271,
        0.02664494886994362,
        0.03780046105384827,
        -0.04498949646949768,
        0.059102561324834824,
        0.009028017520904541,
        0.0928022637963295,
        0.000556586601305753,
        -0.03925870358943939,
        -0.019688816741108894,
        -0.1149221733212471,
        0.07073419541120529,
        0.0032201469875872135,
        0.08559516817331314,
        0.026845622807741165,
        -0.05261202156543732,
        -0.023552699014544487,
        0.008380642160773277,
        0.06008671969175339,
        -0.06993451714515686,
        -0.060198187828063965,
        -0.04783415049314499,
        0.016748903319239616,
        0.09783604741096497,
        -0.029081443324685097,
        -0.05792170763015747,
        -0.032681677490472794,
        0.015347440727055073,
        0.023236582055687904,
        -0.058913663029670715,
        -0.05815936625003815,
        -0.02517515979707241,
        -0.01997549459338188,
        0.06414159387350082,
        0.1100754514336586,
        -0.0015520156593993306,
        -0.03372643142938614,
        -0.054745811969041824,
        0.026372551918029785,
        0.06933519244194031,
        0.07734275609254837,
        0.028740141540765762,
        0.019080279394984245
    ]
}